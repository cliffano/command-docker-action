---
name: 'Command Docker GitHub Action'
description: |
  A simple GitHub Action for running a shell command via a Docker container
author: 'Cliffano Subagio'
branding:
  icon: 'arrow-right-circle'
  color: 'white'
inputs:
  command:
    description: |
      Shell command to be executed via a Docker container
    type: string
    required: true
  image:
    description: |
      Docker image to be used for running the container
    type: string
    required: false
    default: 'alpine:3.20'
runs:
  using: 'composite'
  steps:
    - name: Verify
      shell: bash
      run: ls -al
    - name: Run Docker container
      shell: bash
      run: |
        docker run --rm -v /var/run/docker.sock:/var/run/docker.sock --entrypoint "${{ inputs.command }}" --name local_container "${{ inputs.image }}"
